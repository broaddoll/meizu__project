"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var car=function(){function e(){_classCallCheck(this,e),this.con_purchased=document.querySelector("#con-purchased"),this.button=document.querySelectorAll("#good-unit-price button"),this.inp=document.querySelector("#good-unit-price input"),this.num=this.inp.value,this.span=document.querySelectorAll("#good-unit-price span"),this.settime_column=document.querySelector("#Settling-column"),this.Settling=document.querySelectorAll("#Settling-column-right-sp"),this.sp=document.querySelectorAll(".Settling-column-span"),this.settime=document.querySelectorAll("#good-price-p-2"),this.redact=document.querySelector("#redact"),this.red_i=document.querySelector("#redact-i"),this.redact_i=document.querySelector("#redact-i"),this.con_purchased=document.querySelector("#con-purchased"),this.chenk=document.querySelectorAll(".checkbox"),this.num=$("#inp_num").val(),this.setnum(),this.chenkAll(),this.good_num(),this.timer(),this.red()}return _createClass(e,[{key:"setnum",value:function(){var e=$.cookie("js")?$.cookie("js"):"",n=$.cookie("免")?$.cookie("免"):"",t=this.strtoobj(e).num;$("#user").text(n),$("#user").hover(function(){$(this).css({color:"#008cff"})},function(){$(this).css({color:""})}),e?($("#con-purchased").css("display","bolck"),$("#inp_num").val(t),$(this.span).text("￥"+2299*t),$(".jtl").text("￥"+2299*t)):$("#con-purchased").css("display","none")}},{key:"strtoobj",value:function(e){return e?JSON.parse(e):{}}},{key:"chenkAll",value:function(){var e=this,i=this;this.chenk[0].onclick=function(){for(var e=0,n=i.chenk.length;e<n;e++)i.chenk[e].checked=this.checked},this.chenk[3].onclick=function(){for(var e=0,n=i.chenk.length;e<n;e++)i.chenk[e].checked=this.checked};for(var n=1,t=this.chenk.length-1;n<t;n++)this.chenk[n].onclick=function(){for(var e=!0,n=1,t=i.chenk.length-1;n<t;n++)if(0==i.chenk[n].checked){e=!1;break}i.chenk[0].checked=e,i.chenk[3].checked=e};$(".mwd").click(function(){e.chenk[3].checked&&(i.chenk[0].checked=!1,i.chenk[1].checked=!1,i.con_purchased.innerText="",i.settime_column.innerText="",$.removeCookie("js",{path:"/"}))})}},{key:"red",value:function(){var e=this;e.red_i.innerText="--",this.redact.onclick=function(){e.red_i.innerText="删除",e.red_i.style.color="blue",e.red_i.onclick=function(){e.con_purchased.innerText="",e.settime_column.innerText="",$.removeCookie("js",{path:"/"})}}}},{key:"good_num",value:function(){var n=this;n.button[1].onclick=function(){var e=$("#inp_num").val();n.inp.value=++e,n.sp[0].innerText="共"+e+"件，已选择",n.sp[1].innerText=e+"件",n.span[0].innerText="￥"+2299*e,n.Settling[1].innerText="￥"+2299*e,n.Settling[0].innerText="￥"+500*e,$.cookie("js",JSON.stringify({name:"魅族18 x",img:"../img/images/8.jpg",price:"2299",num:"".concat(e)}),{expires:7,path:"/"})},n.button[0].onclick=function(){var e=$("#inp_num").val();n.inp.value=e=--e<=1?1:e,n.sp[0].innerText="共"+e+"件，已选择",n.sp[1].innerText=e+"件",n.span[0].innerText="￥"+2299*e,n.Settling[1].innerText="￥"+2299*e,n.Settling[0].innerText="￥"+500*e,$.cookie("js",JSON.stringify({name:"魅族18 x",img:"../img/images/8.jpg",price:"2299",num:"".concat(e)}),{expires:7,path:"/"})},n.inp.onblur=function(){var e=$("#inp_num").val();(e<=1||isNaN(e))&&(e=1),n.inp.value=e,n.sp[0].innerText="共"+e+"件，已选择",n.sp[1].innerText=e+"件",n.span[0].innerText="￥"+2299*e,n.Settling[1].innerText="￥"+2299*e,n.Settling[0].innerText="￥"+500*e,$.cookie("js",JSON.stringify({name:"魅族18 x",img:"../img/images/8.jpg",price:"2299",num:"".concat(e)}),{expires:7,path:"/"})}}},{key:"timer",value:function(){var u=this,l=setInterval(function(){for(var e=new Date(2022,4,23),n=new Date,e=Math.floor((e.getTime()-n.getTime())/1e3),t=Math.floor(e/60/60/24),i=Math.floor((e-24*t*60*60)/60/60),c=Math.floor((e-24*t*60*60-60*i*60)/60),o=e%60,r=0,s=u.settime.length;r<s;r++)u.settime[r].innerText="限时特惠，剩余"+u.toDoub(t)+"天"+u.toDoub(i)+"时"+u.toDoub(c)+"分"+u.toDoub(o)+"秒";0===t&&0===i&&0===c&&0==o&&clearInterval(l)},1e3)}},{key:"toDoub",value:function(e){return e<10?"0"+e:e}}]),e}();new car;